What are "Admission Controllers" in Kubernetes ğŸ¤”
â¬‡ ğŸ‘‡ â¬‡

âœ… An admission controller is a piece of code that intercepts and processes requests to the Kubernetes API server prior to persistence of the object, but after the request is authenticated and authorized.

âœ… Admission controllers limit requests to create, delete, modify objects. Admission controllers do not (and cannot) block requests to read (get, watch or list) objects.

âœ… There are a few admission controllers are precompiled into "kube-apiserver" (Kubernetes version 1.27) and can be configured by cluster administrator:
ğŸ‘‰ CertificateApproval
ğŸ‘‰ CertificateSigning
ğŸ‘‰ CertificateSubjectRestriction
ğŸ‘‰ DefaultIngressClass
ğŸ‘‰ DefaultStorageClass
ğŸ‘‰ DefaultTolerationSeconds
ğŸ‘‰ LimitRanger
ğŸ‘‰ MutatingAdmissionWebhook
ğŸ‘‰ NamespaceLifecycle
ğŸ‘‰ PersistentVolumeClaimResize
ğŸ‘‰ PodSecurity
ğŸ‘‰ Priority
ğŸ‘‰ ResourceQuota
ğŸ‘‰ RuntimeClass
ğŸ‘‰ ServiceAccount
ğŸ‘‰ StorageObjectInUseProtection
ğŸ‘‰ TaintNodesByCondition
ğŸ‘‰ ValidatingAdmissionPolicy
ğŸ‘‰ ValidatingAdmissionWebhook

âœ… There are mainly three types or classes of Admission controllers:

1ï¸âƒ£ Validating admission controllers
ğŸ‘‰ These controllers validates the API object to make sure all conditions are met for that object. If all conditions are met, the object gets the permission to pass and finally persists to etcd.

2ï¸âƒ£ Mutating admission controllers
ğŸ‘‰ These controllers may modify related objects to the requests they admit.

3ï¸âƒ£ Mutating + Validating admission controllers
ğŸ‘‰ These controllers are responsible for both: mutation and validation.
ğŸ‘‰ These types of controllers mutates objects, if needed, and then validates it.

âœ… The admission control process proceeds in two phases:
1ï¸âƒ£ In the first phase, mutating admission controllers are run.
2ï¸âƒ£ In the second phase, validating admission controllers are run.

âœ… If any of the controllers in either phase reject the request, the entire request is rejected immediately and an error is returned to the end-user.

References:
Kubernetes Docs: https://lnkd.in/gP93hRn6
Kubernetes Blog: https://lnkd.in/gqAEHHGw
Sysdig Blog: https://lnkd.in/gaPkNdpn
